13.6.2018
Add walls. Like a building.

Soo. I have a few ways to do this. Full slot walls. Thin walls.
Full slot walls will make climbing easy too.

How do I want to build level? Place stuff. Then apply items.

Maybe grid detects which slot are taken ?
-- all raycasting + components.


Abilities are active depending on the slot, the area around it.
- ui system that allows you to show new items. 
One way is to just show the abilities, above items.
Another is to show them in drop down menu.
- load items based on parameters scanned from slot.
- somehow mark objects in area, and make them avaliable to scan - per range per ability

Ok I got abilities of slots. Or parameters.
Now these things have to be loaded on grid - ok, so they can be accesed from ui controller - ok.
The items have to be activated to show UI when player selects unit. -ok 1
ui has to be constructed by hand, or just enabled piece by piece. -ok
ui pieces have to moved so they don't cover each other. Do this LATER! -ok ish
works for now. should be redone to be more robust.
ui shuold be visible only in interaction range.

ability slots ui.

-accuracy. throw range. guns. pick item. flip table. deco-remateliarize. pass item.
AP restore. aoe shield. reinforce area or item. aoe blast cone.aoe drain. passive

pick item: ui when on slot to pick up. -ok
ui button list with attached abilities? ok 19.6.2018
all player's abilities are assigned to ui - ok

stats that can be upgraded.
accuracy - added weapon class -ok
throw range - mask takes care of that, just add throw equipped ability. -ok
AP - ok
pickup. -ok
guns/items. -ok
wall cover
flip table - cut
classes
collect material
pass item - inventory
AP restore
reinforce self
reinforce slot
aoe cone attack
aoe life drain
life per slot
air per slot
passives.

skill tree

23.6.2018
I don't have a concrete way to add abilities to units.
- env abilitites
button shows up over slot and you click it
multiple choices
scrap this, u need 1 choice, have multiple attacks
- aoe env ability
same as normal attack?
spawn grid that follows mouse, snapped
on attacks, spawn grid based on mask.

- normal attacks
avaliable grid slot colors, and you press the grid.
- ui attacks
u press ui then where to attack.

2 grids - map in the background and transparent clickable grid.
abilities and all that, instead spawns a new grid item overlay.
spawning is better, because we have better control over what's visible.
if it's grid... all we can do is recolor it.

we click on grid items bellow them.
grid items are replacable.

oh this would allow me to have per slot type action. - cut

spawn Mask or multiple masks
spawned mask can optionally be moved to mouse, inside range.
cut: interaction

so click player ability button -> button interaction(two step attack)  - ok
-> (spawn mask -> click in loop -> destroy mask)

move: select unit in loop -> (spawn mask -> click in loop -> destroy mask) -ok

soo, have an ability scanner that scans area for certain interactions.
opt 1: always raycast, for every interaction choice. faster, costlier ~20 raycasts per hit.
opt 2: have data stored on grid item. it changes annoying to deal with every 
change. slot get's consumed -> changes, interaction is replaced.
opt 3: re raycast every time there is a change on map.
attack + interaction type + mask = selectable area - ok

pickup ability on the attack list ok -24.6.2018

SPRITE LAYERS.

background 0
walls bellow grid items 5
grid items are on top of everything. below units. 10
units 20
items 25

UI 100
24.6.2018 - checkup
so far i redid the coloring system and attacking system. now it supports attacking for 
enbirounment and interactions both via the grid.
removed button based attack system.
i have a few standard attacks, range and melle, and weapon pickup and throw.
added hp bars.
standardized sprite layers

next goal: 
1) come up with a scenario for levels - level design direction
2) add more abilities
3) add other classes <-